(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3380],{64602:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/separate/Connect-Wallet",function(){return a(80471)}])},72213:function(e,t,a){"use strict";a.d(t,{I:function(){return i}});var o=a(37918),n=a.n(o);a(8882),a(55678);var r=a(6103),l=a(74845);async function i(){if(localStorage.getItem("walltype")&&null!=localStorage.getItem("walltype")&&void 0!=localStorage.getItem("walltype")&&""!=localStorage.getItem("walltype")&&"trust"==localStorage.getItem("walltype")&&localStorage.getItem("nilwireMetamask")&&null!=localStorage.getItem("nilwireMetamask")&&void 0!=localStorage.getItem("nilwireMetamask")&&""!=localStorage.getItem("nilwireMetamask")){var e=new l.Z({rpc:{[r.Z.livechainid]:r.Z.liverpcUrls},chainId:r.Z.livechainid});e.on("connect",()=>{}),await e.enable();let o=new(n())(e);var t=await o.eth.net.getId(),a=await o.eth.getAccounts();if(r.Z.livechainid==t)return localStorage.setItem("walltype","trust"),localStorage.setItem("nilddsbashyujsd","yes"),localStorage.setItem("nilwireMetamask",a[0].toLowerCase()),localStorage.setItem("nilwireMetamaskAddr",a[0].toLowerCase()),a[0].toLowerCase(),{address:a[0].toLowerCase(),provider:e};await e.disconnect()}else if(localStorage.getItem("nilwireMetamask")&&null!=localStorage.getItem("nilwireMetamask")&&void 0!=localStorage.getItem("nilwireMetamask")&&""!=localStorage.getItem("nilwireMetamask")&&window.ethereum){var o=new(n())(window.ethereum);try{void 0!==o&&await window.ethereum.enable().then(async function(){let e=new(n())(window.web3.currentProvider);if(!0===window.web3.currentProvider.isMetaMask&&window.web3&&window.web3.eth&&window.web3.eth.defaultAccount&&window.web3.currentProvider.networkVersion==r.Z.networkVersion)return{address:(await e.eth.getAccounts())[0].toLowerCase()}})}catch(e){}}}},80471:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return u}});var o=a(85893),n=a(67294),r=a(89250),l=a(37918),i=a.n(l);a(8882);var c=a(74845);a(19755);var w=a(6103);a(93451);var s=a(97416),d=a(72213);function u(e){let{...t}=e,{WalletConnected:a}=e,l=(0,n.useRef)(null);async function u(){m()}async function m(){if(window.$(".modal").modal("hide"),localStorage.getItem("walltype")&&null!=localStorage.getItem("walltype")&&void 0!=localStorage.getItem("walltype")&&""!=localStorage.getItem("walltype")&&"trust"==localStorage.getItem("walltype")&&localStorage.getItem("nilwireMetamask")&&null!=localStorage.getItem("nilwireMetamask")&&void 0!=localStorage.getItem("nilwireMetamask")&&""!=localStorage.getItem("nilwireMetamask")){var t=new c.Z({rpc:{[w.Z.livechainid]:w.Z.liverpcUrls},chainId:w.Z.livechainid});t.on("connect",()=>{}),await t.enable();let r=new(i())(t);var a=await r.eth.net.getId(),o=await r.eth.getAccounts();if(w.Z.livechainid==a){localStorage.setItem("walltype","trust"),localStorage.setItem("nilddsbashyujsd","yes"),localStorage.setItem("nilwireMetamask",o[0].toLowerCase()),localStorage.setItem("nilwireMetamaskAddr",o[0].toLowerCase());var n=o[0].toLowerCase();e.Set_UserAccountAddr(o[0].toLowerCase()),e.Set_WalletConnected(!0);var o=await r.eth.getAccounts(),n=o[0].toLowerCase();e.Set_Accounts(n),r.eth.getBalance(n).then(a=>(e.Set_UserAccountBal(a/1e18),g(),{address:o[0].toLowerCase(),provider:t}))}else await t.disconnect()}else if(localStorage.getItem("nilwireMetamask")&&null!=localStorage.getItem("nilwireMetamask")&&void 0!=localStorage.getItem("nilwireMetamask")&&""!=localStorage.getItem("nilwireMetamask")&&window.ethereum){var r=new(i())(window.ethereum);try{void 0!==r&&await window.ethereum.enable().then(async function(){let t=new(i())(window.web3.currentProvider);if(!0===window.web3.currentProvider.isMetaMask&&window.web3&&window.web3.eth&&window.web3.eth.defaultAccount&&window.web3.currentProvider.networkVersion==w.Z.networkVersion){var a=await t.eth.getAccounts();e.Set_UserAccountAddr(a[0].toLowerCase()),e.Set_WalletConnected(!0);var o=a[0].toLowerCase();return e.Set_Accounts(o),t.eth.getBalance(o).then(t=>{e.Set_UserAccountBal(t/1e18),g()}),{address:a[0].toLowerCase()}}})}catch(e){}}}async function g(){await v(),e.AfterWalletConnected()}async function v(){var t=await (0,d.I)();let a=new(i())(t&&t.provider&&null!=t.provider&&void 0!=t.provider&&""!=t.provider?t.provider:window.ethereum);var o=await (0,s.Et)({addr:(await a.eth.getAccounts())[0].toLowerCase()});return o&&o.data&&o.data.data?e.Set_AddressUserDetails(o.data.data.User):e.Set_AddressUserDetails({}),!0}(0,n.useEffect)(()=>{u()},[]);try{window.addEventListener("load",t=>{t.preventDefault(),window.ethereum&&(window.ethereum.on("accountsChanged",function(e){window.location.reload(!0),l.current&&clearTimeout(l.current),l.current=setTimeout(()=>{m()},1e3)}),window.ethereum.on("networkChanged",function(t){t==w.Z.networkVersion?(window.location.reload(!0),l.current&&clearTimeout(l.current),l.current=setTimeout(()=>{m()},1e3),e.Set_WalletConnected(!0)):e.Set_WalletConnected(!1)}))})}catch(e){}let[h,S]=n.useState(!1);var I="";let f=(0,r.TH)();f.pathname&&f.pathname.split("/").length>=2&&(I=f.pathname.split("/")[1]);let[p,k]=(0,n.useState)(I),y=e=>{};return(0,o.jsxs)("div",{children:[e.fullLoader&&(0,o.jsx)("div",{class:"loading"}),(0,o.jsx)("div",{id:"connect_Wallet_call",onClick:()=>y("metamask")})]})}a(55678).Am.configure(),w.Z.toasterOption}},function(e){e.O(0,[3592,8543,571,3104,9250,4419,9774,2888,179],function(){return e(e.s=64602)}),_N_E=e.O()}]);