(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5921],{70830:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/separate/CancelOrderRef",function(){return a(80124)}])},6514:function(e,t,a){"use strict";a.r(t),t.default={src:"/_next/static/media/logo.d158bc19.png",height:200,width:200,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAArUlEQVR42l3OvQqDMBQF4DxNKfT9t8bYCHZzENSKicXBOhTpotIk6ulVtIMfZMm5f2xz9oXwy7K0T3qBlGL5+4dpmrY4KIqiXYs8zxMg8zwbaw2GYcA4jsY5h3sY3pjW+gvSNA2iKEIcx8jzHNM0oaoqy5Qq1oJHluFV1+Cco+s6LOget6zgNB593xvq2kMDIqUMGDmlSfLGAU38UHZhmxPnV09rZbRSVggh9/AHiF2/AN+KpdMAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8}},72213:function(e,t,a){"use strict";a.d(t,{I:function(){return r}});var n=a(37918),s=a.n(n);a(8882),a(55678);var i=a(6103),o=a(74845);async function r(){if(localStorage.getItem("walltype")&&null!=localStorage.getItem("walltype")&&void 0!=localStorage.getItem("walltype")&&""!=localStorage.getItem("walltype")&&"trust"==localStorage.getItem("walltype")&&localStorage.getItem("nilwireMetamask")&&null!=localStorage.getItem("nilwireMetamask")&&void 0!=localStorage.getItem("nilwireMetamask")&&""!=localStorage.getItem("nilwireMetamask")){var e=new o.Z({rpc:{[i.Z.livechainid]:i.Z.liverpcUrls},chainId:i.Z.livechainid});e.on("connect",()=>{}),await e.enable();let n=new(s())(e);var t=await n.eth.net.getId(),a=await n.eth.getAccounts();if(i.Z.livechainid==t)return localStorage.setItem("walltype","trust"),localStorage.setItem("nilddsbashyujsd","yes"),localStorage.setItem("nilwireMetamask",a[0].toLowerCase()),localStorage.setItem("nilwireMetamaskAddr",a[0].toLowerCase()),a[0].toLowerCase(),{address:a[0].toLowerCase(),provider:e};await e.disconnect()}else if(localStorage.getItem("nilwireMetamask")&&null!=localStorage.getItem("nilwireMetamask")&&void 0!=localStorage.getItem("nilwireMetamask")&&""!=localStorage.getItem("nilwireMetamask")&&window.ethereum){var n=new(s())(window.ethereum);try{void 0!==n&&await window.ethereum.enable().then(async function(){let e=new(s())(window.web3.currentProvider);if(!0===window.web3.currentProvider.isMetaMask&&window.web3&&window.web3.eth&&window.web3.eth.defaultAccount&&window.web3.currentProvider.networkVersion==i.Z.networkVersion)return{address:(await e.eth.getAccounts())[0].toLowerCase()}})}catch(e){}}}},80124:function(e,t,a){"use strict";a.r(t),a.d(t,{CancelOrderRef:function(){return y}});var n=a(85893),s=a(67294);a(19755);var i=a(37918),o=a.n(i);a(8882);var r=a(24021),l=a(71439),d=a(6103),u=a(93451),c=a(72213);a(97416);var p=a(55678);p.Am.configure();let m=d.Z.toasterOption,y=(0,s.forwardRef)((e,t)=>{let[i,d]=s.useState(""),[y,w]=s.useState(0),[f,b]=s.useState(0),[v,g]=s.useState(0),[_,h]=s.useState("");async function k(){var t=await (0,c.I)();let a=new(o())(t&&t.provider&&null!=t.provider&&void 0!=t.provider&&""!=t.provider?t.provider:window.ethereum);if(await a.eth.getAccounts(),a&&a.eth){if(!localStorage.getItem("nilwireMetamask"))return window.location.href="/connect",!1;if(721==x.type){var n=new a.eth.Contract(r,x.contractAddress);d("processing"),n.methods.cancelOrder(e.item.tokenCounts).send({from:e.Accounts}).then(async t=>{d("done");var a=await (0,u.pQ)({tokenOwner:I,tokenCounts:e.item.tokenCounts,tokenPrice:y,blockHash:t.blockHash,transactionHash:t.transactionHash,BidToken:_,from:"cancel"});a.data&&a.data.RetType&&"success"==a.data.RetType&&(p.Am.success("Sale order cancelled successfully",m),window.$(".modal").modal("hide"),setTimeout(()=>{window.location.reload(!1)},1500))}).catch(e=>{d("error"),p.Am.error("Transaction rejected by user",m)})}else{var n=new a.eth.Contract(l,x.contractAddress);d("processing"),n.methods.cancelOrder(e.item.tokenCounts).send({from:e.Accounts}).then(async t=>{d("done");var a=await (0,u.pQ)({tokenOwner:I,tokenCounts:e.item.tokenCounts,tokenPrice:y,blockHash:t.blockHash,transactionHash:t.transactionHash,BidToken:_,from:"cancel"});a.data&&a.data.RetType&&"success"==a.data.RetType&&(p.Am.success("Sale order cancelled successfully",m),window.$(".modal").modal("hide"),setTimeout(()=>{window.location.reload(!1)},1500))}).catch(e=>{d("error"),p.Am.error("Transaction rejected by user",m)})}}}var{item:x,UserAccountAddr:I}=e;return(0,s.useImperativeHandle)(t,()=>({async CancelOrder_Click(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};console.log(t,"ii"),e.Set_HitItem(t),w(0),console.log(t,"===============",a,"=============froncancelorder");let n=t&&t.OnSaleOwner&&t.OnSaleOwner.findIndex(e=>e.tokenOwner.toString()==I.toString());g(parseInt(n)>=0&&t.OnSaleOwner[n]&&t.OnSaleOwner[n].price?t.OnSaleOwner[n].price:t.tokenowners_current&&t.tokenowners_current.price?t.tokenowners_current.price:t.price),b(a),h(a.currency),window.$("#cancel_order_modal").modal("show")}})),console.log(x,"=========fromcancelorder"),(0,n.jsxs)("div",{children:["processing"==i&&(0,n.jsx)("div",{className:"transLoading",children:(0,n.jsx)("img",{src:a(6514),className:"img-fluid",alt:""})}),(0,n.jsxs)("div",{class:"modal fade primary_modal",id:"cancel_order_modal","data-backdrop":"static",tabindex:"-1",role:"dialog","aria-labelledby":"cancel_order_modalCenteredLabel","aria-hidden":"true","data-keyboard":"false",children:[(0,n.jsx)("div",{class:"modal-dialog modal-dialog-centered modal-sm",role:"document",children:(0,n.jsxs)("div",{class:"modal-content",children:[(0,n.jsxs)("div",{class:"modal-header text-center",children:[(0,n.jsx)("h5",{class:"modal-title",id:"cancel_order_modalLabel",children:"Cancel Sale Order"}),(0,n.jsx)("p",{className:"text_grey_clickb mb-0"}),(0,n.jsx)("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close",children:(0,n.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),(0,n.jsx)("div",{class:"modal-body px-0 pt-0",children:(0,n.jsxs)("form",{className:"px-4 bid_form",children:[(0,n.jsxs)("div",{className:"row pb-2",children:[(0,n.jsx)("div",{className:"col-12 col-sm-6",children:(0,n.jsx)("p",{className:"buy_desc_sm",children:"Token Price"})}),(0,n.jsx)("div",{className:"col-12 col-sm-6 text-sm-right",children:(0,n.jsxs)("p",{className:"buy_desc_sm_bold",children:[v," ",_]})})]}),(0,n.jsx)("div",{className:"text-center mt-3",children:(0,n.jsxs)("button",{className:"btn-main lead mar-top-10",type:"button",onClick:()=>k(),disabled:"processing"==i,children:["processing"==i&&(0,n.jsx)("i",{class:"fa fa-spinner mr-3 spinner_icon","aria-hidden":"true",id:"circle1"}),"Continue"]})})]})})]})}),(0,n.jsx)("div",{className:"text-center mt-3",children:(0,n.jsxs)("button",{className:"btn-main lead mar-top-10","data-dismiss":"modal",type:"button","aria-label":"Close",children:["processing"==i&&(0,n.jsx)("i",{class:"fa fa-spinner mr-3 spinner_icon","aria-hidden":"true",id:"circle1"}),"Sign sell order"]})})]})]})})},71439:function(e){"use strict";e.exports=JSON.parse('[{"constant":true,"inputs":[],"name":"name","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_spender","type":"address"},{"name":"_value","type":"uint256"}],"name":"approve","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"totalSupply","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_from","type":"address"},{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transferFrom","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"decimals","outputs":[{"name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_owner","type":"address"}],"name":"balanceOf","outputs":[{"name":"balance","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"symbol","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transfer","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_owner","type":"address"},{"name":"_spender","type":"address"}],"name":"allowance","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"payable":true,"stateMutability":"payable","type":"fallback"},{"anonymous":false,"inputs":[{"indexed":true,"name":"owner","type":"address"},{"indexed":true,"name":"spender","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"from","type":"address"},{"indexed":true,"name":"to","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Transfer","type":"event"}]')},24021:function(e){"use strict";e.exports=JSON.parse('[{"constant":true,"inputs":[],"name":"name","outputs":[{"name":"_name","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_tokenId","type":"uint256"}],"name":"getApproved","outputs":[{"name":"_approved","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_to","type":"address"},{"name":"_tokenId","type":"uint256"}],"name":"approve","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"implementsERC721","outputs":[{"name":"_implementsERC721","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"totalSupply","outputs":[{"name":"_totalSupply","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_from","type":"address"},{"name":"_to","type":"address"},{"name":"_tokenId","type":"uint256"}],"name":"transferFrom","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_owner","type":"address"},{"name":"_index","type":"uint256"}],"name":"tokenOfOwnerByIndex","outputs":[{"name":"_tokenId","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_tokenId","type":"uint256"}],"name":"ownerOf","outputs":[{"name":"_owner","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_tokenId","type":"uint256"}],"name":"tokenMetadata","outputs":[{"name":"_infoUrl","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_owner","type":"address"}],"name":"balanceOf","outputs":[{"name":"_balance","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_owner","type":"address"},{"name":"_tokenId","type":"uint256"},{"name":"_approvedAddress","type":"address"},{"name":"_metadata","type":"string"}],"name":"mint","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"symbol","outputs":[{"name":"_symbol","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_to","type":"address"},{"name":"_tokenId","type":"uint256"}],"name":"transfer","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"numTokensTotal","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_owner","type":"address"}],"name":"getOwnerTokens","outputs":[{"name":"_tokenIds","type":"uint256[]"}],"payable":false,"stateMutability":"view","type":"function"},{"anonymous":false,"inputs":[{"indexed":true,"name":"_to","type":"address"},{"indexed":true,"name":"_tokenId","type":"uint256"}],"name":"Mint","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"_from","type":"address"},{"indexed":true,"name":"_to","type":"address"},{"indexed":false,"name":"_tokenId","type":"uint256"}],"name":"Transfer","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"_owner","type":"address"},{"indexed":true,"name":"_approved","type":"address"},{"indexed":false,"name":"_tokenId","type":"uint256"}],"name":"Approval","type":"event"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"tokenURI","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"}]')}},function(e){e.O(0,[3592,8543,571,3104,4419,9774,2888,179],function(){return e(e.s=70830)}),_N_E=e.O()}]);